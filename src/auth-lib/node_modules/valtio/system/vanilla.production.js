System.register(["proxy-compare"],function(D){"use strict";var M,F;return{setters:[function(O){M=O.markToTrack,F=O.getUntracked}],execute:function(){D({getVersion:_,proxy:U,ref:C,snapshot:B,subscribe:q});const O=s=>typeof s=="object"&&s!==null,u=new WeakMap,m=new WeakSet,V=(s=Object.is,f=(r,w)=>new Proxy(r,w),k=r=>O(r)&&!m.has(r)&&(Array.isArray(r)||!(Symbol.iterator in r))&&!(r instanceof WeakMap)&&!(r instanceof WeakSet)&&!(r instanceof Error)&&!(r instanceof Number)&&!(r instanceof Date)&&!(r instanceof String)&&!(r instanceof RegExp)&&!(r instanceof ArrayBuffer),h=r=>r.configurable&&r.enumerable&&r.writable,d=r=>{switch(r.status){case"fulfilled":return r.value;case"rejected":throw r.reason;default:throw r}},p=new WeakMap,A=(r,w,g=d)=>{const o=p.get(r);if((o==null?void 0:o[0])===w)return o[1];const a=Array.isArray(r)?[]:Object.create(Object.getPrototypeOf(r));return M(a,!0),p.set(r,[w,a]),Reflect.ownKeys(r).forEach(E=>{if(Object.getOwnPropertyDescriptor(a,E))return;const b=Reflect.get(r,E),P={value:b,enumerable:!0,configurable:!0};if(m.has(b))M(b,!1);else if(b instanceof Promise)delete P.value,P.get=()=>g(b);else if(u.has(b)){const[i,W]=u.get(b);P.value=A(i,W(),g)}Object.defineProperty(a,E,P)}),Object.preventExtensions(a)},y=new WeakMap,v=[1,1],x=r=>{if(!O(r))throw new Error("object required");const w=y.get(r);if(w)return w;let g=v[0];const o=new Set,a=(n,e=++v[0])=>{g!==e&&(g=e,o.forEach(c=>c(n,e)))};let E=v[1];const b=(n=++v[1])=>(E!==n&&!o.size&&(E=n,i.forEach(([e])=>{const c=e[1](n);c>g&&(g=c)})),g),P=n=>(e,c)=>{const t=[...e];t[1]=[n,...t[1]],a(t,c)},i=new Map,W=(n,e)=>{if(o.size){const c=e[3](P(n));i.set(n,[e,c])}else i.set(n,[e])},K=n=>{var e;const c=i.get(n);c&&(i.delete(n),(e=c[1])==null||e.call(c))},G=n=>(o.add(n),o.size===1&&i.forEach(([e,c],t)=>{const j=e[3](P(t));i.set(t,[e,j])}),()=>{o.delete(n),o.size===0&&i.forEach(([e,c],t)=>{c&&(c(),i.set(t,[e]))})}),z=Array.isArray(r)?[]:Object.create(Object.getPrototypeOf(r)),N=(n,e,c,t,j)=>{if(n&&(s(e,t)||y.has(t)&&s(e,y.get(t))))return;K(c),O(t)&&(t=F(t)||t);let R=t;if(t instanceof Promise)t.then(l=>{t.status="fulfilled",t.value=l,a(["resolve",[c],l])}).catch(l=>{t.status="rejected",t.reason=l,a(["reject",[c],l])});else{!u.has(t)&&k(t)&&(R=x(t));const l=!m.has(R)&&u.get(R);l&&W(c,l)}j(R),a(["set",[c],t,e])},T=f(z,{deleteProperty(n,e){const c=Reflect.get(n,e);K(e);const t=Reflect.deleteProperty(n,e);return t&&a(["delete",[e],c]),t},set(n,e,c,t){const j=Reflect.has(n,e),R=Reflect.get(n,e,t);return N(j,R,e,c,l=>{Reflect.set(n,e,l,t)}),!0},defineProperty(n,e,c){if(h(c)){const t=Reflect.getOwnPropertyDescriptor(n,e);if(!t||h(t))return N(!!t&&"value"in t,t==null?void 0:t.value,e,c.value,j=>{Reflect.defineProperty(n,e,{...c,value:j})}),!0}return Reflect.defineProperty(n,e,c)}});y.set(r,T);const H=[z,b,A,G];return u.set(T,H),Reflect.ownKeys(r).forEach(n=>{const e=Object.getOwnPropertyDescriptor(r,n);"value"in e&&(T[n]=r[n],delete e.value,delete e.writable),Object.defineProperty(z,n,e)}),T})=>[x,u,m,s,f,k,h,d,p,A,y,v],[S]=V();function U(s={}){return S(s)}function _(s){const f=u.get(s);return f==null?void 0:f[1]()}function q(s,f,k){const h=u.get(s);let d;const p=[],A=h[3];let y=!1;const v=A(x=>{if(p.push(x),k){f(p.splice(0));return}d||(d=Promise.resolve().then(()=>{d=void 0,y&&f(p.splice(0))}))});return y=!0,()=>{y=!1,v()}}function B(s,f){const k=u.get(s),[h,d,p]=k;return p(h,d(),f)}function C(s){return m.add(s),s}const I=D("unstable_buildProxyFunction",V)}}});
